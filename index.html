<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Canada ‚Üî Myanmar Money Transfer Demo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="page">
    <header class="site-header">
      <div class="inner">
        <div class="brand">
          <div class="brand-mark">SB</div>
          SafeBridge Transfer
        </div>
        <nav style="display:flex;align-items:center;justify-content:space-between;width:100%;">
          <div style="display:flex;gap:1rem;align-items:center;">
            <a class="nav-link" href="index.html">Home</a>
            <a class="nav-link" href="#contact">Contact us</a>
            <a class="nav-link" href="#about">About us</a>
          </div>

          <div style="display:flex;gap:0.6rem;align-items:center;">
            <label style="display:flex;align-items:center;gap:0.25rem;font-size:0.9rem;color:var(--color-header-text);">
              <span class="small" style="color:var(--color-muted);">Language</span>
              <select style="background:transparent;border:1px solid rgba(255,255,255,0.3);color:var(--color-header-text);border-radius:8px;padding:0.25rem 0.5rem;">
                <option>English</option>
                <option>Myanmar</option>
              </select>
            </label>
            <a class="nav-login" href="signin.html">Login</a>
            <a class="nav-cta" href="register.html">Register</a>
          </div>
        </nav>
      </div>
    </header>

    <main>
      <div class="shell">
        <section class="hero hero-split">
          <div class="hero-copy">
            <div class="badge">Canada ‚Üî Myanmar <span>Trusted money transfer</span></div>
            <h1 class="hero-title">The fast, trusted way to send money online</h1>
            <p class="hero-subtitle">Whether you need to send funds down the street or between Canada and Myanmar, SafeBridge gets it there quickly with transparent rates.</p>
            <div class="hero-actions">
              <a class="btn-primary" href="#transfer-form">Start sending money</a>
              <a class="btn-ghost" href="#rate-card">View CAD ‚Üí MMK rate</a>
            </div>
            <div class="hero-highlights">
              <div class="feature">
                <div class="feature-icon">‚ö°</div>
                <div>
                  <div class="feature-title">Fast</div>
                  <div class="feature-text">Send online and track in real time.</div>
                </div>
              </div>
              <div class="feature">
                <div class="feature-icon">üõ°Ô∏è</div>
                <div>
                  <div class="feature-title">Secure</div>
                  <div class="feature-text">Bank-level security and verification.</div>
                </div>
              </div>
              <div class="feature">
                <div class="feature-icon">üí±</div>
                <div>
                  <div class="feature-title">Great value</div>
                  <div class="feature-text">Transparent rates before you send.</div>
                </div>
              </div>
            </div>
          </div>

          <div class="card transfer-panel" id="rate-card">
            <div class="panel-header">
              <div>
                <div class="card-title">Send money online</div>
                <div class="card-subtitle">Canada ‚Üî Myanmar</div>
              </div>
              <div class="pill">Demo flow</div>
            </div>

            <form class="transfer-form" id="transfer-form" action="#">
              <label class="field">
                <span>Receiver‚Äôs country</span>
                <div class="select">
                  <select id="country-select">
                    <option value="">Select country</option>
                    <option value="mm">Myanmar (CAD ‚Üí MMK)</option>
                    <option value="ca">Canada (MMK ‚Üí CAD)</option>
                  </select>
                  <span class="chevron">‚åÑ</span>
                </div>
              </label>

              <div class="amount-grid">
                <label class="field">
                  <span>Send amount</span>
                  <div class="input-with-chip">
                    <span class="chip" id="send-chip">CAD</span>
                    <input id="send-amount" type="number" min="0" step="0.01" placeholder="0.00">
                  </div>
                </label>
                <label class="field">
                  <span>Receive amount</span>
                  <div class="input-with-chip">
                    <span class="chip" id="receive-chip">MMK</span>
                    <input id="receive-amount" type="number" min="0" step="100" placeholder="0.00">
                  </div>
                </label>
              </div>
              <div class="rate-hint">Today‚Äôs demo rate: <strong>1 CAD ‚âà 1,650 MMK</strong>. Final rate shown before you send.</div>

              <div class="form-step">
                <div class="step-title">How does your receiver want the money?</div>
                <div class="option-row">
                  <div class="option">
                    <input type="radio" id="receive-bank" name="receive" value="bank" checked>
                    <label for="receive-bank"><span class="option-icon">üè¶</span> Bank account</label>
                  </div>
                  <div class="option">
                    <input type="radio" id="receive-wallet" name="receive" value="wallet">
                    <label for="receive-wallet"><span class="option-icon">üì±</span> Mobile wallet</label>
                  </div>
                </div>
              </div>

              <div class="form-step">
                <div class="step-title">How would you like to pay?</div>
                <div class="option-row">
                  <div class="option">
                    <input type="radio" id="pay-bank" name="pay" value="bank" checked>
                    <label for="pay-bank"><span class="option-icon">üèõÔ∏è</span> Bank account</label>
                  </div>
                  <div class="option">
                    <input type="radio" id="pay-wallet" name="pay" value="wallet">
                    <label for="pay-wallet"><span class="option-icon">üí≥</span> Wallet / card</label>
                  </div>
                </div>
              </div>

              <button class="btn-primary block" type="submit" id="transfer-continue">Continue</button>
              <div class="muted small">Need an account? <a class="link" href="register.html">Register</a> or <a class="link" href="signin.html">sign in</a>.</div>
            </form>
          </div>
        </section>

        <section class="transfer" id="transfer">
          <div class="section-header">
            <div class="tag">How it works</div>
            <h2>Finish in three quick steps</h2>
            <p class="hero-subtitle">Sign in or register, confirm your receiver details, and review rates before sending‚Äîjust like the reference flow.</p>
          </div>

          <div class="steps-grid">
            <div class="card step-card">
              <div class="step-badge">1</div>
              <div class="step-title">Sign in or register</div>
              <div class="feature-text">Secure your account and add your sender details.</div>
            </div>
            <div class="card step-card">
              <div class="step-badge">2</div>
              <div class="step-title">Enter transfer info</div>
              <div class="feature-text">Choose direction, amounts, payout method, and how you‚Äôll pay.</div>
            </div>
            <div class="card step-card">
              <div class="step-badge">3</div>
              <div class="step-title">Review & send</div>
              <div class="feature-text">See live demo rate and fees, then confirm.</div>
            </div>
          </div>
        </section>

        <section class="followup" id="transfer-followup" style="display:none;">
          <div class="section-header">
            <div class="tag">Step 2</div>
            <h2 id="followup-title">Receiver bank details (MMK)</h2>
            <p class="hero-subtitle" id="followup-desc">Provide receiver‚Äôs bank account in Myanmar, then choose manual or Plaid (fast) funding.</p>
            <p class="feature-text note-highlight" id="followup-note" style="margin-top:0.1rem; display:none;"></p>
          </div>
          <div class="card followup-card">
            <div class="form-columns-2">
              <label class="field">
                <span>Receiver full name</span>
                <input id="receiver-name" type="text" placeholder="Ko Aung" />
              </label>
              <label class="field">
                <span>Bank name</span>
                <input id="receiver-bank" type="text" placeholder="KBZ Bank" />
              </label>
            </div>
            <div class="form-columns-2">
              <label class="field">
                <span>Account number</span>
                <input id="receiver-account" type="text" placeholder="xxxxxxxxxxxx" />
              </label>
              <label class="field">
                <span>Branch / SWIFT (optional)</span>
                <input id="receiver-branch" type="text" placeholder="KBZMMXXXXXX" />
              </label>
            </div>
          </div>

          <div class="card followup-card" id="funding-card">
            <div class="panel-header" style="margin-bottom:0.5rem;">
              <div>
                <div class="card-title">Choose how to fund</div>
                <div class="card-subtitle">Manual transfer or Plaid fast transfer.</div>
              </div>
              <div class="pill">Step 3</div>
            </div>
            <div class="option-row">
              <button class="btn-primary block" type="button" onclick="openManualMyanmarModal()">Payment transfer manually</button>
              <button class="btn-primary block" type="button" onclick="openPaymentModal()">Payment transfer via Plaid (Fast)</button>
            </div>
          </div>
        </section>
      </div>

      <section class="contact" id="contact">
        <div class="inner">
          <div>
            <div style="font-weight:700;margin-bottom:0.35rem;">Need help?</div>
            <div style="color:var(--color-muted);">Email support@maplemyanmar.com or call +1 (555) 011-7788.</div>
          </div>
          <div>
            <div style="font-weight:700;margin-bottom:0.35rem;">Hours</div>
            <div style="color:var(--color-muted);">Mon‚ÄìFri 9:00‚Äì17:00 PT</div>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="inner" style="display:flex;flex-wrap:wrap;gap:1.25rem;align-items:flex-start;">
        <div style="flex:1 1 260px;min-width:220px;"><div style="font-weight:700;margin-bottom:0.25rem;">SafeBridge Transfer</div><div style="color:#cfd5e5;font-size:0.9rem;">Demo interface for a Canada ‚Üî Myanmar money transfer product.</div></div>
        <div style="flex:0 0 220px;"><div style="font-weight:700;margin-bottom:0.5rem;">Services</div><div style="color:#cfd5e5;font-size:0.9rem;">Send money</div></div>
        <div style="flex:0 0 220px;">
          <div style="font-weight:700;margin-bottom:0.5rem;">Follow us</div>
          <div style="color:#cfd5e5;font-size:0.9rem;display:flex;flex-direction:column;gap:0.2rem;">
            <span>Facebook</span>
            <span>Instagram</span>
          </div>
        </div>
        <div style="flex:0 0 200px;">
          <div style="font-weight:700;margin-bottom:0.5rem;">Legal</div>
          <div style="color:#cfd5e5;font-size:0.9rem;display:flex;flex-direction:column;gap:0.2rem;">
            <a class="nav-link" href="#">Terms and Conditions</a>
            <a class="nav-link" href="#">Privacy Policy</a>
          </div>
        </div>
      </div>
    </footer>
  </div>

  <div id="overlay-modal" aria-hidden="true" style="display:none;">
    <div class="modal-backdrop"></div>
    <div class="modal-panel" role="dialog" aria-modal="true">
      <button id="modal-close" aria-label="Close" class="modal-close">‚úï</button>
      <div id="modal-content"></div>
    </div>
  </div>

<script>
(function(){
  const modal = document.getElementById('overlay-modal');
  const content = document.getElementById('modal-content');
  const closeBtn = document.getElementById('modal-close');
  function openModalWithURL(url){
    fetch(url, {cache: 'no-store'})
      .then(r=>{ if(!r.ok) throw new Error('Failed to load'); return r.text(); })
      .then(html=>{
        const parser = new DOMParser(); const doc = parser.parseFromString(html, 'text/html');
        const main = doc.querySelector('main') || doc.body; content.innerHTML = '';
        Array.from(main.children).forEach(ch=> content.appendChild(ch.cloneNode(true)));
        Array.from(content.querySelectorAll('form')).forEach(f=>{ f.addEventListener('submit', e=>{ e.preventDefault(); alert('Demo: form submitted'); closeModal(); }); });
        content.querySelectorAll('a').forEach(a=>{ const href = a.getAttribute('href')||''; if(href.endsWith('register.html')||href.endsWith('signin.html')){ a.addEventListener('click', ev=>{ ev.preventDefault(); openModalWithURL(href); }); } });
        showModal();
      })
      .catch(()=>{ content.innerHTML = '<div style="color:var(--color-muted)">Unable to load page.</div>'; showModal(); });
  }
  function showModal(){ modal.setAttribute('aria-hidden','false'); modal.style.display = 'flex'; document.body.style.overflow = 'hidden'; }
  function closeModal(){ modal.setAttribute('aria-hidden','true'); modal.style.display = 'none'; content.innerHTML = ''; document.body.style.overflow = ''; }
  closeBtn.addEventListener('click', closeModal);
  modal.addEventListener('click', e=>{ if(e.target.classList.contains('modal-backdrop')) closeModal(); });
  document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeModal(); });
  document.addEventListener('click', function(ev){ const a = ev.target.closest('a'); if(!a) return; const href = a.getAttribute('href')||''; if(href.endsWith('register.html') || href.endsWith('signin.html')){ ev.preventDefault(); openModalWithURL(href); } });

  // Country ‚Üí currency mapping and flow selection
  const countrySelect = document.getElementById('country-select');
  const sendChip = document.getElementById('send-chip');
  const receiveChip = document.getElementById('receive-chip');
  const sendInput = document.getElementById('send-amount');
  const receiveInput = document.getElementById('receive-amount');
  const followup = document.getElementById('transfer-followup');
  const transferForm = document.getElementById('transfer-form');
  const continueBtn = document.getElementById('transfer-continue');
  const receiverName = document.getElementById('receiver-name');
  const receiverBank = document.getElementById('receiver-bank');
  const receiverAccount = document.getElementById('receiver-account');
  const receiverBranch = document.getElementById('receiver-branch');
  const followupTitle = document.getElementById('followup-title');
  const followupDesc = document.getElementById('followup-desc');
  const followupNote = document.getElementById('followup-note');
  const fundingCard = document.getElementById('funding-card');

  function safeVal(el){ return (el && el.value.trim()) || el?.placeholder || '‚Äî'; }

  // Plaid demo modal kept for future use (not shown in UI now)
  function openPaymentModal(){
    content.innerHTML = `
      <div style="display:flex;flex-direction:column;gap:0.75rem;">
        <div class="card-title">Payment transfer via Plaid</div>
        <div class="feature-text">Complete your transfer by connecting your Canadian bank via Plaid. Your details remain private.</div>
        <div class="amount-grid">
          <div class="input-with-chip"><span class="chip">Send</span><input disabled value="${sendInput.value || '500'} CAD"></div>
          <div class="input-with-chip"><span class="chip">Receive</span><input disabled value="${receiveInput.value || '825000'} MMK"></div>
        </div>
        <div class="card followup-card" style="margin-top:0;">
          <div class="card-title">Receiver bank details</div>
          <div class="feature-text">Double-check before you transfer.</div>
          <div class="form-columns-2">
            <div class="field"><span>Name</span><div class="input-with-chip"><input disabled value="${safeVal(receiverName)}"></div></div>
            <div class="field"><span>Bank</span><div class="input-with-chip"><input disabled value="${safeVal(receiverBank)}"></div></div>
            <div class="field"><span>Account</span><div class="input-with-chip"><input disabled value="${safeVal(receiverAccount)}"></div></div>
            <div class="field"><span>Branch / SWIFT</span><div class="input-with-chip"><input disabled value="${safeVal(receiverBranch)}"></div></div>
          </div>
        </div>
        <button class="btn-primary" type="button" onclick="alert('Demo: Payment transfer via Plaid');">${'Payment transfer via Plaid'}</button>
      </div>
    `;
    showModal();
  }

  function openReceiptModal(){
    content.innerHTML = `
      <div style="display:flex;flex-direction:column;gap:0.75rem;">
        <div class="card-title">Upload transfer receipt</div>
        <div class="feature-text">For MMK ‚Üí CAD, please upload proof you sent MMK to the SafeBridge merchant account (manual transfer outside the app).</div>
        <div class="amount-grid">
          <div class="input-with-chip"><span class="chip">Send</span><input disabled value="${sendInput.value || '825000'} MMK"></div>
          <div class="input-with-chip"><span class="chip">Receive</span><input disabled value="${receiveInput.value || '500'} CAD"></div>
        </div>
        <div class="card followup-card" style="margin-top:0;">
          <div class="card-title">Receiver bank details</div>
          <div class="feature-text">Double-check before you continue.</div>
          <div class="form-columns-2">
            <div class="field"><span>Name</span><div class="input-with-chip"><input disabled value="${safeVal(receiverName)}"></div></div>
            <div class="field"><span>Bank</span><div class="input-with-chip"><input disabled value="${safeVal(receiverBank)}"></div></div>
            <div class="field"><span>Account</span><div class="input-with-chip"><input disabled value="${safeVal(receiverAccount)}"></div></div>
            <div class="field"><span>Branch / SWIFT</span><div class="input-with-chip"><input disabled value="${safeVal(receiverBranch)}"></div></div>
          </div>
        </div>
        <div class="field">
          <span>Receipt / screenshot</span>
          <input type="file" />
        </div>
        <div class="field">
          <span>Reference or transfer ID</span>
          <input type="text" placeholder="e.g., CBM-REF-12345" />
        </div>
        <div class="note-highlight">Within 24 hours of verifying your MMK receipt, we‚Äôll transfer CAD to your receiver. You‚Äôll get an in-app notification and can confirm in History.</div>
        <button class="btn-primary" type="button" onclick="alert('Demo: receipt uploaded');">Submit receipt</button>
      </div>
    `;
    showModal();
  }

  function openManualMyanmarModal(){
    content.innerHTML = `
      <div style="display:flex;flex-direction:column;gap:0.75rem;">
        <div class="card-title">Payment transfer manually</div>
        <div class="feature-text">Transfer CAD to the merchant account using your own banking app, then upload the receipt.</div>
        <div class="card followup-card" style="margin-top:0;">
          <div class="card-title">Merchant Canada bank (sample)</div>
          <div class="form-columns-2">
            <div class="field"><span>Account holder</span><div class="input-with-chip"><input disabled value="SafeBridge Merchant"></div></div>
            <div class="field"><span>Bank name</span><div class="input-with-chip"><input disabled value="TD Canada Trust"></div></div>
            <div class="field"><span>Institution #</span><div class="input-with-chip"><input disabled value="004"></div></div>
            <div class="field"><span>Transit #</span><div class="input-with-chip"><input disabled value="12345"></div></div>
            <div class="field"><span>Account #</span><div class="input-with-chip"><input disabled value="9876543"></div></div>
          </div>
        </div>
        <div class="field">
          <span>Receipt / screenshot</span>
          <input type="file" />
        </div>
        <div class="field">
          <span>Reference or transfer ID</span>
          <input type="text" placeholder="e.g., TD-REF-7890" />
        </div>
        <div class="note-highlight">Within 24 hours of verifying your payment receipt, we‚Äôll transfer MMK to the receiver. You‚Äôll get an in-app notification and can confirm in History.</div>
        <button class="btn-primary" type="button" onclick="alert('Demo: receipt uploaded');">Submit receipt</button>
      </div>
    `;
    showModal();
  }

  function applyCountryMapping() {
    const val = countrySelect.value;
    if (val === 'mm') {
      // CAD to MMK
      sendChip.textContent = 'CAD';
      receiveChip.textContent = 'MMK';
      sendInput.placeholder = '500';
      receiveInput.placeholder = '825000';
      receiverName.placeholder = 'Ko Aung';
      receiverBank.placeholder = 'KBZ Bank';
      receiverAccount.placeholder = 'xxxxxxxxxxxx';
      receiverBranch.placeholder = 'KBZMMXXXXXX';
      followupNote.textContent = 'Manual: within 24 hours of verifying your receipt, MMK will be sent to the receiver (you‚Äôll be notified and can check History). Plaid fast transfer is immediate.';
      followupNote.style.display = 'block';
      followup.style.display = 'none';
    } else {
      // MMK to CAD
      sendChip.textContent = 'MMK';
      receiveChip.textContent = 'CAD';
      sendInput.placeholder = '825000';
      receiveInput.placeholder = '500';
      receiverName.placeholder = 'Mya Mya';
      receiverBank.placeholder = 'RBC Bank';
      receiverAccount.placeholder = '0000000000';
      receiverBranch.placeholder = 'Transit / Institution (optional)';
      followupNote.textContent = 'Within 24 hours after we verify your MMK receipt, CAD is released to your receiver. You‚Äôll get an in-app notification and can check History.';
      followupNote.style.display = 'block';
      followup.style.display = 'none';
    }
  }
  countrySelect.addEventListener('change', applyCountryMapping);
  applyCountryMapping();

  transferForm.addEventListener('submit', function(ev){
    ev.preventDefault();
    if (countrySelect.value === 'mm') {
      followup.style.display = 'block';
      followupTitle.textContent = 'Receiver bank details (MMK)';
      followupDesc.textContent = 'Provide receiver‚Äôs bank account in Myanmar, then choose manual or Plaid (fast) funding.';
      followupNote.textContent = 'Manual: within 24 hours of verifying your receipt, MMK will be sent to the receiver (you‚Äôll be notified and can check History). Plaid fast transfer is immediate.';
      followupNote.style.display = 'block';
      fundingCard.style.display = 'block';
      content.innerHTML = '';
      content.appendChild(followup);
      showModal();
      // User completes manual transfer via modal.
    } else if (countrySelect.value === 'ca') {
      followup.style.display = 'none';
      followupTitle.textContent = 'Receiver bank details (CAD payout)';
      followupDesc.textContent = 'Provide receiver‚Äôs bank account in Canada, then upload proof of your manual MMK transfer.';
      followupNote.textContent = 'Within 24 hours after we verify your MMK receipt, CAD will be sent to this account. You‚Äôll be notified in-app and can confirm in History.';
      followupNote.style.display = 'block';
      fundingCard.style.display = 'none';
      openReceiptModal();
    } else {
      alert('Please choose a receiver country to continue.');
    }
  });
})();
</script>

</body>
</html>
